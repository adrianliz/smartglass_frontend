<mat-card class="mat-elevation-z8 rounded-lg">
	<mat-card-header>
		<div mat-card-avatar [ngClass]="getStateStyle(twin.currentState)"></div>
		<mat-card-title>{{ twin.name }}</mat-card-title>
		<mat-card-subtitle *transloco="let t">{{ t('twins.' + twin.currentState) }}</mat-card-subtitle>
	</mat-card-header>

	<img mat-card-image [src]="twin.img" [alt]="twin.name" class="m-2 img-fluid" />

	<mat-card-content>
		<div class="text-secondary mb-4">
			<p>
				<b *transloco="let t">{{ t('twins.BRAND') }}</b> {{ twin.machineSeries }}
			</p>
			<p>
				<b *transloco="let t">{{ t('twins.MODEL') }}</b> {{ twin.machineModel }}
			</p>
		</div>

		<p>Ratios</p>
		<hr class="border-dark" />
		<div class="text-center">
			<app-loading *ngIf="loading"></app-loading>
			<app-error-message *ngIf="!loading && error" [message]="error"></app-error-message>

			<ng-container *ngIf="!loading && !error">
				<ngx-gauge
					*ngFor="let ratio of ratios"
					[value]="ratio.value | percentage"
					[label]="'twins.' + ratio.id | transloco"
					[size]="120"
					append="%"
					class="ml-3"
				></ngx-gauge>
			</ng-container>
		</div>
	</mat-card-content>

	<mat-card-actions>
		<div class="text-right m-3">
			<button
				mat-raised-button
				[routerLink]="['/dashboard', twin.name]"
				color="primary"
				class="mat-elevation-z8"
				*transloco="let t"
			>
				<mat-icon>read_more</mat-icon>
				{{ t('twins.SHOW_MORE') }}
			</button>
		</div>
	</mat-card-actions>
</mat-card>
